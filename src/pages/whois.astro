---
export const prerender = false;

import Layout from "../layouts/Layout.astro";
import WhoisComponent from "../components/Whois.astro";

// check if query param domain is present if so, pass it to the component
const rawDomain = Astro.url.searchParams.get("domain") || "";
const domain = rawDomain.startsWith("http") ? rawDomain : `http://${rawDomain}`;
const host = new URL(domain).host;
---

<Layout>
  <WhoisComponent domain={host} />
</Layout>
